<div [ngClass]="['wrapperFormLogin']">
  <div #wrapperFormViewLogin [ngClass]="['wrapperFormViewLogin']">
    <div [ngClass]="'row'">
      <div [ngClass]="['col-12', 'wrapperFormViewLogin']">
        <div [ngClass]="['d-flex', 'justify-content-center']">
            <div [ngClass]="['d-flex', 'justify-content-center']">
                <img src="{{ urlApp }}assets/images/logoPlatform/logo.png" [ngClass]="'logoSystemViewLogin'">
            </div>
            <div [ngClass]="'titlesPlatform'">
                <h1 [ngClass]="'titleSystemViewLogin'">{{ titleWindowPlatform }}</h1>
                <h6 [ngClass]="'subTitleSystemViewLogin text-muted'">{{ titleWindowPlatform }}</h6>
            </div>
        </div>
        <div [ngClass]="'col-12 contentFormViewLogin'" *ngIf="!showViewLoginFail">          
            <form [formGroup]="formAuthLogin" (ngSubmit) = "authLoginUser(formAuthLogin)" *ngIf="!showViewLoginFail">
                <div [ngClass]="'form-group'">
                    <label for="labelUsername" [ngClass]="'labelInputViewLogin'">Usuario</label>
                    <div [ngClass]="'input-group mb-2'">
                        <div [ngClass]="'input-group-prepend'">
                            <div [ngClass]="'input-group-text'"><span [ngClass]="'glyphicon glyphicon-user'" aria-hidden="true"></span></div>
                        </div>
                        <input type="text" formControlName="inputUsername" [ngClass]="{'form-control' : true, 'is-valid': !formGroupControls['inputUsername'].errors, 'is-invalid': formGroupControls['inputUsername'].errors && formGroupControls['inputUsername'].touched }" name="inputUsername" #inputUsername (focus)="focusInputUsername($event)" (focusout)="focusOutInputUsername()" (keyup)="validateMaxLengthCharacter($event, maxLengthCharacterInputUsername)"  maxlength="{{ maxLengthCharacterInputUsername }}" aria-describedby="username" placeholder="Digite Usuario" required>
                    </div>
                    <small *ngIf="showMaxLengthCharacterInputUsername" [ngClass]="'form-text text-muted float-right maxCharactersInputsViewLogin'">{{ lengthCharacterInputUsername }}/{{ maxLengthCharacterInputUsername }}</small>
                    <div *ngIf="formGroupControls['inputUsername'].errors && formGroupControls['inputUsername'].touched">
                        <small *ngIf="formGroupControls['inputUsername'].errors['required']" [ngClass] = "'form-text text-danger'">Por favor, ingresa tu usuario.</small>
                        <small *ngIf="formGroupControls['inputUsername'].errors['maxlength']" [ngClass] = "'form-text text-danger'">La longitud maxima de caracteres es de {{ maxLengthCharacterInputUsername }}.</small>
                    </div>
                </div>
                <div [ngClass]="'form-group'">
                    <label for="labelPassword" [ngClass]="'labelInputViewLogin'">Contraseña</label>
                    <div [ngClass]="'input-group mb-2'">
                        <div [ngClass]="'input-group-prepend'">
                            <div [ngClass]="'input-group-text'"><span [ngClass]="'glyphicon glyphicon-lock'" aria-hidden="true"></span></div>
                        </div>
                        <input type="password" formControlName="inputPassword" [ngClass]="{'form-control': true, 'is-valid': !formGroupControls['inputPassword'].errors, 'is-invalid': formGroupControls['inputPassword'].errors && formGroupControls['inputPassword'].touched }" name="inputPassword" #inputPassword (focus)="focusInputInputPassword($event)" (focusout)="focusOutInputInputPassword()" (keyup)="validateMaxLengthCharacter($event, maxLengthCharacterInputPassword)" maxlength="{{ maxLengthCharacterInputPassword }}" minlength="{{ minLengthCharacterInputPassword }}"  placeholder="Digite Contraseña" required>
                        <a (click)="showInputPassword(inputPassword)">
                            <div [ngClass]="'input-group-append'">
                                <span [ngClass]="'input-group-text heightButtonIconViewPassword'">
                                    <span [ngClass] = "'glyphicon glyphicon-eye-open'" #buttonShowInputPassword aria-hidden="true"></span>
                                </span>
                            </div>
                        </a>
                    </div>
                    <small *ngIf="showMaxLengthCharacterInputPassword" [ngClass]="'form-text text-muted float-right maxCharactersInputsViewLogin'">{{ lengthCharacterInputPassword }}/{{ maxLengthCharacterInputPassword }}</small>
                    <div *ngIf="formGroupControls['inputPassword'].errors && formGroupControls['inputPassword'].touched">
                        <small *ngIf="formGroupControls['inputPassword'].errors['required']" [ngClass] = "'form-text text-danger'">Por favor, ingresa tu contraseña.</small>
                        <small *ngIf="formGroupControls['inputPassword'].errors['maxlength']" [ngClass] = "'form-text text-danger'">La longitud maxima de caracteres es de} {{ maxLengthCharacterInputPassword }}.</small>
                        <small *ngIf="formGroupControls['inputPassword'].errors['minlength']" [ngClass] = "'form-text text-danger'">La longitud minima de caracteres es de {{ minLengthCharacterInputPassword}}. </small>
                    </div>
                </div>
                <div [ngClass]="'alert alert-danger marginTopAlertAuth'" role="alert" *ngIf="showAlertDanger">
                  {{ responseHttpMessage }}
                </div>
                <div [ngClass]="'wrapperButtonViewAuth d-flex justify-content-center'">
                    <button type="submit" [disabled]="formAuthLogin.invalid" [ngClass]="['btn', 'btn-primary', 'btn-lg', 'btn-block']">Iniciar Sesión</button>
                </div>
                <div [ngClass]="'wrapperButtonViewAuth'">
                    <small [ngClass]="'form-text text-center'"><a [routerLink] = "'/recuperar-contrasena'">¿Olvidó su Contraseña?</a></small>
                </div>
                
            </form>
        </div>
        <div [ngClass]="'col-12 contentFormViewLoginFail'" *ngIf="showViewLoginFail">
            <h4 [ngClass]="'titleSystemViewLoginFail'">Error Iniciando Sesión</h4>
            <p [ngClass]="'paragraphViewLoginFail text-muted'">El usuario o contraseña son incorrectos.</p>
            <p [ngClass]="'paragraphViewLoginFail text-muted'">Para retornar al formulario de Iniciar Sesión click en el siguiente enlace <a href="#" (click)="showViewFormLogin($event)">Iniciar Sesión</a></p>
        </div>
      </div>
    </div>
  </div>
  <app-slider-auth [languageViewModel]="languageViewLoginModel"></app-slider-auth>  
</div> 